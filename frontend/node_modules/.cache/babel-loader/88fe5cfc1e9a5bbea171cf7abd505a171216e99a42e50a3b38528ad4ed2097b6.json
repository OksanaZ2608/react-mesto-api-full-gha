{"ast":null,"code":"import _classCallCheck from\"/Users/oksanazagorodneva/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/oksanazagorodneva/react-mesto-api-full-gha/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Auth=/*#__PURE__*/function(){function Auth(options){_classCallCheck(this,Auth);this._url=options.url;}_createClass(Auth,[{key:\"_checkResponse\",value:function _checkResponse(res){if(res.ok){return res.json();}return Promise.reject(\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \".concat(res.status));}},{key:\"registerUser\",value:function registerUser(password,email){var _this=this;return fetch(\"\".concat(this._url,\"/signup\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password:password,email:email})}).then(function(res){return _this._checkResponse(res);});}},{key:\"authorizeUser\",value:function authorizeUser(password,email){var _this2=this;return fetch(\"\".concat(this._url,\"/signin\"),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({password:password,email:email})}).then(function(res){return _this2._checkResponse(res);});}},{key:\"checkToken\",value:function checkToken(token){var _this3=this;return fetch(\"\".concat(this._url,\"/users/me\"),{method:'GET',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(token)}}).then(function(res){return _this3._checkResponse(res);});}}]);return Auth;}();var auth=new Auth({url:'https://api.domainoksana.nomoredomainsrocks.ru'});export default auth;","map":{"version":3,"names":["Auth","options","_classCallCheck","_url","url","_createClass","key","value","_checkResponse","res","ok","json","Promise","reject","concat","status","registerUser","password","email","_this","fetch","method","headers","body","JSON","stringify","then","authorizeUser","_this2","checkToken","token","_this3","auth"],"sources":["/Users/oksanazagorodneva/react-mesto-api-full-gha/frontend/src/utils/auth.js"],"sourcesContent":["class Auth {\n  constructor(options) {\n    this._url = options.url;\n  }\n\n  _checkResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  registerUser(password, email) {\n    return fetch(`${this._url}/signup`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ password, email })\n    })\n    .then((res) => this._checkResponse(res));\n  }\n\n  authorizeUser(password, email) {\n    return fetch(`${this._url}/signin`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ password, email })\n    })\n    .then((res) => this._checkResponse(res));\n  }\n\n  checkToken(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    })\n    .then((res) => this._checkResponse(res));\n  }\n}\n\nconst auth = new Auth({\n  url: 'https://api.domainoksana.nomoredomainsrocks.ru'\n})\n\nexport default auth;"],"mappings":"iSAAM,CAAAA,IAAI,yBACR,SAAAA,KAAYC,OAAO,CAAE,CAAAC,eAAA,MAAAF,IAAA,EACnB,IAAI,CAACG,IAAI,CAAGF,OAAO,CAACG,GAAG,CACzB,CAACC,YAAA,CAAAL,IAAA,GAAAM,GAAA,kBAAAC,KAAA,CAED,SAAAC,eAAeC,GAAG,CAAE,CAClB,GAAIA,GAAG,CAACC,EAAE,CAAE,CACV,MAAO,CAAAD,GAAG,CAACE,IAAI,CAAC,CAAC,CACnB,CACA,MAAO,CAAAC,OAAO,CAACC,MAAM,0CAAAC,MAAA,CAAYL,GAAG,CAACM,MAAM,CAAE,CAAC,CAChD,CAAC,GAAAT,GAAA,gBAAAC,KAAA,CAED,SAAAS,aAAaC,QAAQ,CAAEC,KAAK,CAAE,KAAAC,KAAA,MAC5B,MAAO,CAAAC,KAAK,IAAAN,MAAA,CAAI,IAAI,CAACX,IAAI,YAAW,CAClCkB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAER,QAAQ,CAARA,QAAQ,CAAEC,KAAK,CAALA,KAAM,CAAC,CAC1C,CAAC,CAAC,CACDQ,IAAI,CAAC,SAACjB,GAAG,QAAK,CAAAU,KAAI,CAACX,cAAc,CAACC,GAAG,CAAC,GAAC,CAC1C,CAAC,GAAAH,GAAA,iBAAAC,KAAA,CAED,SAAAoB,cAAcV,QAAQ,CAAEC,KAAK,CAAE,KAAAU,MAAA,MAC7B,MAAO,CAAAR,KAAK,IAAAN,MAAA,CAAI,IAAI,CAACX,IAAI,YAAW,CAClCkB,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAER,QAAQ,CAARA,QAAQ,CAAEC,KAAK,CAALA,KAAM,CAAC,CAC1C,CAAC,CAAC,CACDQ,IAAI,CAAC,SAACjB,GAAG,QAAK,CAAAmB,MAAI,CAACpB,cAAc,CAACC,GAAG,CAAC,GAAC,CAC1C,CAAC,GAAAH,GAAA,cAAAC,KAAA,CAED,SAAAsB,WAAWC,KAAK,CAAE,KAAAC,MAAA,MAChB,MAAO,CAAAX,KAAK,IAAAN,MAAA,CAAI,IAAI,CAACX,IAAI,cAAa,CACpCkB,MAAM,CAAE,KAAK,CACbC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClC,eAAe,WAAAR,MAAA,CAAYgB,KAAK,CAClC,CACF,CAAC,CAAC,CACDJ,IAAI,CAAC,SAACjB,GAAG,QAAK,CAAAsB,MAAI,CAACvB,cAAc,CAACC,GAAG,CAAC,GAAC,CAC1C,CAAC,WAAAT,IAAA,KAGH,GAAM,CAAAgC,IAAI,CAAG,GAAI,CAAAhC,IAAI,CAAC,CACpBI,GAAG,CAAE,gDACP,CAAC,CAAC,CAEF,cAAe,CAAA4B,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}