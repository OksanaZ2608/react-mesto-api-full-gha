{"ast":null,"code":"import _defineProperty from\"/Users/oksanazagorodneva/react-mesto-full/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/oksanazagorodneva/react-mesto-full/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/oksanazagorodneva/react-mesto-full/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback,useState}from\"react\";function useFormValidation(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isValid=_useState6[0],setIsValid=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),isInputValid=_useState8[0],setIsInputValid=_useState8[1];// console.log(isValid)\nfunction handleChange(evt){var name=evt.target.name;var value=evt.target.value;var validationMessage=evt.target.validationMessage;var valid=evt.target.validity.valid;var form=evt.target.form;setValues(function(oldValues){return _objectSpread(_objectSpread({},oldValues),{},_defineProperty({},name,value));});setErrors(function(oldErrors){return _objectSpread(_objectSpread({},oldErrors),{},_defineProperty({},name,validationMessage));});setIsInputValid(function(oldIsUnputValid){return _objectSpread(_objectSpread({},oldIsUnputValid),{},_defineProperty({},name,valid));});setIsValid(form.checkValidity());}// возвращение всех значений\nfunction reset(){var data=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};setValues(data);setErrors({});setIsInputValid(false);setIsValid({});}var setValue=useCallback(function(name,value){setValues(function(oldValues){return _objectSpread(_objectSpread({},oldValues),{},_defineProperty({},name,value));});},[]);return{values:values,errors:errors,isValid:isValid,isInputValid:isInputValid,setValue:setValue,reset:reset,handleChange:handleChange};}export default useFormValidation;","map":{"version":3,"names":["useCallback","useState","useFormValidation","_useState","_useState2","_slicedToArray","values","setValues","_useState3","_useState4","errors","setErrors","_useState5","_useState6","isValid","setIsValid","_useState7","_useState8","isInputValid","setIsInputValid","handleChange","evt","name","target","value","validationMessage","valid","validity","form","oldValues","_objectSpread","_defineProperty","oldErrors","oldIsUnputValid","checkValidity","reset","data","arguments","length","undefined","setValue"],"sources":["/Users/oksanazagorodneva/react-mesto-full/frontend/src/utils/useFormValidation.jsx"],"sourcesContent":["import { useCallback, useState } from \"react\";\n\n\nfunction useFormValidation(){\n    const [values, setValues ] = useState({});\n    const [errors, setErrors ] = useState({});\n    const [isValid, setIsValid] = useState(false);\n    const [isInputValid, setIsInputValid] = useState({}); \n\n // console.log(isValid)\n    function handleChange(evt){\n    const name = evt.target.name\n    const value = evt.target.value\n    const validationMessage = evt.target.validationMessage\n    const valid = evt.target.validity.valid\n    const form = evt.target.form\n\n    setValues((oldValues) => {\n        return {...oldValues, [name]: value }\n    })\n\n    setErrors((oldErrors) => {\n        return {...oldErrors, [name]: validationMessage, }\n            })\n\n    setIsInputValid((oldIsUnputValid) => {\n         return {...oldIsUnputValid, [name]: valid, }\n             })\n\n    setIsValid(form.checkValidity())\n                    \n}\n\n// возвращение всех значений\nfunction reset(data = {}){\n    setValues(data)\n    setErrors({})\n    setIsInputValid(false)\n    setIsValid({})\n}\n\nconst setValue = useCallback((name, value) => {\n    setValues((oldValues) => {\n        return {...oldValues, [name]: value, }\n            })\n}, [])\n\n\nreturn {values, errors, isValid, isInputValid, setValue, reset, handleChange}\n}\n\nexport default useFormValidation;"],"mappings":"yZAAA,OAASA,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CAG7C,QAAS,CAAAC,iBAAiBA,CAAA,CAAE,CACxB,IAAAC,SAAA,CAA6BF,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAG,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAlCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxB,IAAAI,UAAA,CAA6BP,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAQ,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAlCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAA8BX,QAAQ,CAAC,KAAK,CAAC,CAAAY,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAAtCE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAC1B,IAAAG,UAAA,CAAwCf,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAAgB,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAA7CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IAEvC;AACG,QAAS,CAAAG,YAAYA,CAACC,GAAG,CAAC,CAC1B,GAAM,CAAAC,IAAI,CAAGD,GAAG,CAACE,MAAM,CAACD,IAAI,CAC5B,GAAM,CAAAE,KAAK,CAAGH,GAAG,CAACE,MAAM,CAACC,KAAK,CAC9B,GAAM,CAAAC,iBAAiB,CAAGJ,GAAG,CAACE,MAAM,CAACE,iBAAiB,CACtD,GAAM,CAAAC,KAAK,CAAGL,GAAG,CAACE,MAAM,CAACI,QAAQ,CAACD,KAAK,CACvC,GAAM,CAAAE,IAAI,CAAGP,GAAG,CAACE,MAAM,CAACK,IAAI,CAE5BrB,SAAS,CAAC,SAACsB,SAAS,CAAK,CACrB,OAAAC,aAAA,CAAAA,aAAA,IAAWD,SAAS,KAAAE,eAAA,IAAGT,IAAI,CAAGE,KAAK,GACvC,CAAC,CAAC,CAEFb,SAAS,CAAC,SAACqB,SAAS,CAAK,CACrB,OAAAF,aAAA,CAAAA,aAAA,IAAWE,SAAS,KAAAD,eAAA,IAAGT,IAAI,CAAGG,iBAAiB,GAC3C,CAAC,CAAC,CAEVN,eAAe,CAAC,SAACc,eAAe,CAAK,CAChC,OAAAH,aAAA,CAAAA,aAAA,IAAWG,eAAe,KAAAF,eAAA,IAAGT,IAAI,CAAGI,KAAK,GACrC,CAAC,CAAC,CAEXX,UAAU,CAACa,IAAI,CAACM,aAAa,CAAC,CAAC,CAAC,CAEpC,CAEA;AACA,QAAS,CAAAC,KAAKA,CAAA,CAAW,IAAV,CAAAC,IAAI,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,CAAC,CAAC,CACpB9B,SAAS,CAAC6B,IAAI,CAAC,CACfzB,SAAS,CAAC,CAAC,CAAC,CAAC,CACbQ,eAAe,CAAC,KAAK,CAAC,CACtBJ,UAAU,CAAC,CAAC,CAAC,CAAC,CAClB,CAEA,GAAM,CAAAyB,QAAQ,CAAGxC,WAAW,CAAC,SAACsB,IAAI,CAAEE,KAAK,CAAK,CAC1CjB,SAAS,CAAC,SAACsB,SAAS,CAAK,CACrB,OAAAC,aAAA,CAAAA,aAAA,IAAWD,SAAS,KAAAE,eAAA,IAAGT,IAAI,CAAGE,KAAK,GAC/B,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAGN,MAAO,CAAClB,MAAM,CAANA,MAAM,CAAEI,MAAM,CAANA,MAAM,CAAEI,OAAO,CAAPA,OAAO,CAAEI,YAAY,CAAZA,YAAY,CAAEsB,QAAQ,CAARA,QAAQ,CAAEL,KAAK,CAALA,KAAK,CAAEf,YAAY,CAAZA,YAAY,CAAC,CAC7E,CAEA,cAAe,CAAAlB,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}