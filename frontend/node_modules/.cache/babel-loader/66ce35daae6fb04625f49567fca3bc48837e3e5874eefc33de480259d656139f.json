{"ast":null,"code":"import{useContext,useEffect}from\"react\";import React from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext.js\";import useFormValidation from\"../utils/useFormValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var currentUser=useContext(CurrentUserContext);var _useFormValidation=useFormValidation(),values=_useFormValidation.values,errors=_useFormValidation.errors,isValid=_useFormValidation.isValid,isInputValid=_useFormValidation.isInputValid,setValue=_useFormValidation.setValue,reset=_useFormValidation.reset,handleChange=_useFormValidation.handleChange;// всталяем значение в инпуты\nuseEffect(function(){setValue(\"name\",currentUser.name);setValue(\"about\",currentUser.about);},[currentUser,isOpen,setValue]);function resetClose(){onClose();reset({name:currentUser.name,about:currentUser.about});}function handleSubmit(evt){evt.preventDefault();onUpdateUser({name:values.name,about:values.about},reset);}return/*#__PURE__*/_jsxs(PopupWithForm,{name:\"profile\",title:\"Редактировать профиль\",isOpen:isOpen,onClose:resetClose,buttonText:\"Сохранить\",onSubmit:handleSubmit,isValid:isValid,children:[/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_username \".concat(isInputValid.name===undefined||isInputValid.name?'':'popup__input-error'),type:\"text\",name:\"name\",id:\"name\",autoComplete:\"off\",minLength:\"2\",maxLength:\"40\",required:\"\",placeholder:\"\\u0412\\u0430\\u0448\\u0435 \\u0438\\u043C\\u044F\",value:values.name?values.name:'',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{id:\"error-username\",className:\"popup__input-error popup__input-username\",children:errors.name}),/*#__PURE__*/_jsx(\"input\",{className:\"popup__input popup__input_type_job \".concat(isInputValid.about===undefined||isInputValid.about?'':'popup__input-error'),type:\"text\",name:\"about\",id:\"about-input\",autoComplete:\"off\",minLength:\"2\",maxLength:\"200\",required:true,placeholder:\"\\u041E \\u0441\\u0435\\u0431\\u0435\",value:values.about?values.about:'',onChange:handleChange}),/*#__PURE__*/_jsx(\"span\",{id:\"error-job\",className:\"popup__input-error popup__input-description\",children:errors.job})]});}export default EditProfilePopup;","map":{"version":3,"names":["useContext","useEffect","React","PopupWithForm","CurrentUserContext","useFormValidation","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","isOpen","onClose","onUpdateUser","currentUser","_useFormValidation","values","errors","isValid","isInputValid","setValue","reset","handleChange","name","about","resetClose","handleSubmit","evt","preventDefault","title","buttonText","onSubmit","children","className","concat","undefined","type","id","autoComplete","minLength","maxLength","required","placeholder","value","onChange","job"],"sources":["/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/EditProfilePopup.jsx"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\nimport useFormValidation from \"../utils/useFormValidation\";\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const currentUser = useContext(CurrentUserContext);\n  const { values, errors, isValid, isInputValid, setValue, reset, handleChange } = useFormValidation();\n\n  // всталяем значение в инпуты\n  useEffect(() => {\n    setValue(\"name\", currentUser.name)\n    setValue(\"about\", currentUser.about)\n  }, [currentUser, isOpen, setValue])\n\n  function resetClose() {\n    onClose()\n    reset({ name: currentUser.name, about: currentUser.about })\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateUser({ name: values.name, about: values.about }, reset)\n  }\n  return (\n    <PopupWithForm\n      name={\"profile\"}\n      title={\"Редактировать профиль\"}\n      isOpen={isOpen}\n      onClose={resetClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n      isValid={isValid}\n    >\n      <input\n        className={`popup__input popup__input_type_username ${isInputValid.name === undefined || isInputValid.name ? '' : 'popup__input-error'}`}\n        type=\"text\"\n        name=\"name\"\n        id=\"name\"\n        autoComplete=\"off\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        required=\"\"\n        placeholder=\"Ваше имя\"\n        value={values.name ? values.name : ''}\n        onChange={handleChange}\n      />\n      <span\n        id=\"error-username\"\n        className=\"popup__input-error popup__input-username\"\n      >{errors.name}</span>\n      <input\n        className={`popup__input popup__input_type_job ${isInputValid.about === undefined || isInputValid.about ? '' : 'popup__input-error'}`}\n        type=\"text\"\n        name=\"about\"\n        id=\"about-input\"\n        autoComplete=\"off\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        required\n        placeholder=\"О себе\"\n        value={values.about ? values.about : ''}\n        onChange={handleChange}\n      />\n      <span\n        id=\"error-job\"\n        className=\"popup__input-error popup__input-description\"\n      >{errors.job}</span>\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}