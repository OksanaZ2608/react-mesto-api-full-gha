{"ast":null,"code":"import{useRef}from\"react\";import PopupWithForm from\"./PopupWithForm\";import useFormValidation from\"../utils/useFormValidation\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditAvatarPopup(_ref){var isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateAvatar=_ref.onUpdateAvatar;var avatarRef=useRef();var _useFormValidation=useFormValidation(),values=_useFormValidation.values,errors=_useFormValidation.errors,isValid=_useFormValidation.isValid,isInputValid=_useFormValidation.isInputValid,reset=_useFormValidation.reset,handleChange=_useFormValidation.handleChange;function resetClose(){onClose();reset();}function handleSubmit(evt){evt.preventDefault();onUpdateAvatar({avatar:avatarRef.current.value},reset);}return/*#__PURE__*/_jsxs(PopupWithForm,{isOpen:isOpen,onClose:resetClose,title:\"\\u041E\\u0431\\u043D\\u043E\\u0432\\u0438\\u0442\\u044C \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",buttonText:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\",name:\"avatar\",form:\"form\",onSubmit:handleSubmit,isValid:isValid,children:[/*#__PURE__*/_jsx(\"input\",{ref:avatarRef,type:\"url\",className:\"popup__input popup__input_type_avatar \".concat(isInputValid.link===undefined||isInputValid.link?'':'popup__input_valid_error',\" \"),name:\"avatar\",placeholder:\"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0430 \\u043D\\u0430 \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",value:values.avatar?values.avatar:'',id:\"url\",minLength:\"2\",required:true,onChange:handleChange,autoComplete:\"off\"}),/*#__PURE__*/_jsx(\"span\",{id:\"error-url\",className:\"popup__input-error avatar-link-input-error\",children:errors.link})]});}export default EditAvatarPopup;","map":{"version":3,"names":["useRef","PopupWithForm","useFormValidation","jsx","_jsx","jsxs","_jsxs","EditAvatarPopup","_ref","isOpen","onClose","onUpdateAvatar","avatarRef","_useFormValidation","values","errors","isValid","isInputValid","reset","handleChange","resetClose","handleSubmit","evt","preventDefault","avatar","current","value","title","buttonText","name","form","onSubmit","children","ref","type","className","concat","link","undefined","placeholder","id","minLength","required","onChange","autoComplete"],"sources":["/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/EditAvatarPopup.jsx"],"sourcesContent":["import { useRef } from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport useFormValidation from \"../utils/useFormValidation\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = useRef();\n  const { values, errors, isValid, isInputValid, reset, handleChange } = useFormValidation();\n\n  function resetClose() {\n    onClose()\n    reset()\n  }\n\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onUpdateAvatar({ avatar: avatarRef.current.value }, reset);\n  }\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={resetClose}\n      title=\"Обновить аватар\"\n      buttonText=\"Сохранить\"\n      name=\"avatar\"\n      form={\"form\"}\n      onSubmit={handleSubmit}\n      isValid={isValid}\n    >\n      <input\n        ref={avatarRef}\n        type=\"url\"\n        className={`popup__input popup__input_type_avatar ${isInputValid.link === undefined || isInputValid.link ? '' : 'popup__input_valid_error'} `}\n        name=\"avatar\"\n        placeholder=\"Ссылка на новый аватар\"\n        value={values.avatar ? values.avatar : ''}\n        id=\"url\"\n        minLength=\"2\"\n        required\n        onChange={handleChange}\n        autoComplete=\"off\"\n      />\n      <span\n        id=\"error-url\"\n        className=\"popup__input-error avatar-link-input-error\"\n      >{errors.link}</span>\n    </PopupWithForm>\n  );\n}\nexport default EditAvatarPopup;"],"mappings":"AAAA,OAASA,MAAM,KAAQ,OAAO,CAC9B,MAAO,CAAAC,aAAa,KAAM,iBAAiB,CAC3C,MAAO,CAAAC,iBAAiB,KAAM,4BAA4B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE3D,QAAS,CAAAC,eAAeA,CAAAC,IAAA,CAAsC,IAAnC,CAAAC,MAAM,CAAAD,IAAA,CAANC,MAAM,CAAEC,OAAO,CAAAF,IAAA,CAAPE,OAAO,CAAEC,cAAc,CAAAH,IAAA,CAAdG,cAAc,CACxD,GAAM,CAAAC,SAAS,CAAGZ,MAAM,CAAC,CAAC,CAC1B,IAAAa,kBAAA,CAAuEX,iBAAiB,CAAC,CAAC,CAAlFY,MAAM,CAAAD,kBAAA,CAANC,MAAM,CAAEC,MAAM,CAAAF,kBAAA,CAANE,MAAM,CAAEC,OAAO,CAAAH,kBAAA,CAAPG,OAAO,CAAEC,YAAY,CAAAJ,kBAAA,CAAZI,YAAY,CAAEC,KAAK,CAAAL,kBAAA,CAALK,KAAK,CAAEC,YAAY,CAAAN,kBAAA,CAAZM,YAAY,CAElE,QAAS,CAAAC,UAAUA,CAAA,CAAG,CACpBV,OAAO,CAAC,CAAC,CACTQ,KAAK,CAAC,CAAC,CACT,CAEA,QAAS,CAAAG,YAAYA,CAACC,GAAG,CAAE,CACzBA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpBZ,cAAc,CAAC,CAAEa,MAAM,CAAEZ,SAAS,CAACa,OAAO,CAACC,KAAM,CAAC,CAAER,KAAK,CAAC,CAC5D,CAEA,mBACEZ,KAAA,CAACL,aAAa,EACZQ,MAAM,CAAEA,MAAO,CACfC,OAAO,CAAEU,UAAW,CACpBO,KAAK,CAAC,uFAAiB,CACvBC,UAAU,CAAC,wDAAW,CACtBC,IAAI,CAAC,QAAQ,CACbC,IAAI,CAAE,MAAO,CACbC,QAAQ,CAAEV,YAAa,CACvBL,OAAO,CAAEA,OAAQ,CAAAgB,QAAA,eAEjB5B,IAAA,UACE6B,GAAG,CAAErB,SAAU,CACfsB,IAAI,CAAC,KAAK,CACVC,SAAS,0CAAAC,MAAA,CAA2CnB,YAAY,CAACoB,IAAI,GAAKC,SAAS,EAAIrB,YAAY,CAACoB,IAAI,CAAG,EAAE,CAAG,0BAA0B,KAAI,CAC9IR,IAAI,CAAC,QAAQ,CACbU,WAAW,CAAC,uHAAwB,CACpCb,KAAK,CAAEZ,MAAM,CAACU,MAAM,CAAGV,MAAM,CAACU,MAAM,CAAG,EAAG,CAC1CgB,EAAE,CAAC,KAAK,CACRC,SAAS,CAAC,GAAG,CACbC,QAAQ,MACRC,QAAQ,CAAExB,YAAa,CACvByB,YAAY,CAAC,KAAK,CACnB,CAAC,cACFxC,IAAA,SACEoC,EAAE,CAAC,WAAW,CACdL,SAAS,CAAC,4CAA4C,CAAAH,QAAA,CACtDjB,MAAM,CAACsB,IAAI,CAAO,CAAC,EACR,CAAC,CAEpB,CACA,cAAe,CAAA9B,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}