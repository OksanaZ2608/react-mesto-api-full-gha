[{"/Users/oksanazagorodneva/react-mesto-full/frontend/src/index.js":"1","/Users/oksanazagorodneva/react-mesto-full/frontend/src/reportWebVitals.js":"2","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/App.jsx":"3","/Users/oksanazagorodneva/react-mesto-full/frontend/src/contexts/CurrentUserContext.js":"4","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Header.jsx":"5","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Main.jsx":"6","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Login.jsx":"7","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Footer.jsx":"8","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Register.jsx":"9","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/EditProfilePopup.jsx":"10","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/AddPlacePopup.jsx":"11","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/EditAvatarPopup.jsx":"12","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/ProtectedRoute.jsx":"13","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/ConfirmDeletePopup.jsx":"14","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/ImagePopup.jsx":"15","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/InfoTooltip.jsx":"16","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/AuthForm.jsx":"17","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Card.jsx":"18","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/PopupWithForm.jsx":"19","/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Popup.jsx":"20","/Users/oksanazagorodneva/react-mesto-full/frontend/src/utils/useFormValidation.jsx":"21","/Users/oksanazagorodneva/react-mesto-full/frontend/src/utils/auth.js":"22","/Users/oksanazagorodneva/react-mesto-full/frontend/src/utils/Api.js":"23"},{"size":455,"mtime":1692194952121,"results":"24","hashOfConfig":"25"},{"size":362,"mtime":1692186298253,"results":"26","hashOfConfig":"25"},{"size":7303,"mtime":1692365337440,"results":"27","hashOfConfig":"25"},{"size":90,"mtime":1692268318605,"results":"28","hashOfConfig":"25"},{"size":850,"mtime":1692267104782,"results":"29","hashOfConfig":"25"},{"size":1396,"mtime":1692270956637,"results":"30","hashOfConfig":"25"},{"size":1258,"mtime":1692344763515,"results":"31","hashOfConfig":"25"},{"size":250,"mtime":1692267137198,"results":"32","hashOfConfig":"25"},{"size":1435,"mtime":1692365438795,"results":"33","hashOfConfig":"25"},{"size":2352,"mtime":1692273693259,"results":"34","hashOfConfig":"25"},{"size":1735,"mtime":1691445516789,"results":"35","hashOfConfig":"25"},{"size":1424,"mtime":1692281586110,"results":"36","hashOfConfig":"25"},{"size":265,"mtime":1692201806380,"results":"37","hashOfConfig":"25"},{"size":410,"mtime":1692282117921,"results":"38","hashOfConfig":"25"},{"size":809,"mtime":1691411451746,"results":"39","hashOfConfig":"25"},{"size":969,"mtime":1692268471124,"results":"40","hashOfConfig":"25"},{"size":375,"mtime":1692267468526,"results":"41","hashOfConfig":"25"},{"size":1357,"mtime":1692282454107,"results":"42","hashOfConfig":"25"},{"size":981,"mtime":1692272930297,"results":"43","hashOfConfig":"25"},{"size":802,"mtime":1692268504069,"results":"44","hashOfConfig":"25"},{"size":1342,"mtime":1691440955960,"results":"45","hashOfConfig":"25"},{"size":1118,"mtime":1696279095882,"results":"46","hashOfConfig":"25"},{"size":2251,"mtime":1696279104304,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"9scsdo",{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","suppressedMessages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","suppressedMessages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","suppressedMessages":"78","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","suppressedMessages":"90","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","suppressedMessages":"93","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"97","messages":"98","suppressedMessages":"99","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","suppressedMessages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","suppressedMessages":"105","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","suppressedMessages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"109","messages":"110","suppressedMessages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","suppressedMessages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/oksanazagorodneva/react-mesto-full/frontend/src/index.js",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/reportWebVitals.js",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/App.jsx",["118"],[],"import { useState, useEffect } from 'react';\nimport { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport auth from '../utils/auth.js';\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport Login from './Login';\nimport Register from './Register';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport ConfirmDeletePopup from './ConfirmDeletePopup';\nimport ImagePopup from \"./ImagePopup\";\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport api from \"../utils/Api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\n\nfunction App() {\n\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = useState(false);\n  const [isImagePopupOpen, setImagePopupOpen] = useState(false);\n  const [isInfoPopupOpen, setInfoPopupOpen] = useState(false);\n\n  const [isRegisterSuccess, setRegisterSuccess] = useState(false);\n  const [isConfirmPopupOpen, setConfirmPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [currentUser, setCurrentUser] = useState({});\n  const [cardId, setCardId] = useState('');\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('');\n\n  const [cards, setCards] = useState([]);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    api.getInitialCards().then(data => {\n      setCards(data);\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api.getUserInfo().then(userInfo => {\n      setCurrentUser(userInfo);\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    handleTokenCheck();\n  }, [loggedIn]);\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleImageClick(card) {\n    setSelectedCard(card);\n    setImagePopupOpen(true);\n  }\n\n  function handleTrashClick() {\n    setConfirmPopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setEditAvatarPopupOpen(false);\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setImagePopupOpen(false);\n    setConfirmPopupOpen(false);\n    setInfoPopupOpen(false);\n    setSelectedCard({});\n  }\n\n  function handleCardLike(card) {\n    api.addLike(card._id).then((newCard) => {\n      const newCards = cards.map((item) => item._id === card._id ? newCard : item);\n      setCards(newCards);\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleCardDislike(card) {\n    api.deleteLike(card._id).then((newCard) => {\n      const newCards = cards.map((item) => item._id === card._id ? newCard : item);\n      setCards(newCards);\n    })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleConfirmDelete(card) {\n    handleTrashClick();\n    setCardId(card._id);\n  }\n\n  function handleCardDelete(cardId) {\n    api.deleteCard(cardId).then(() => {\n      const newCards = cards.filter(item => item._id !== cardId);\n      setCards(newCards);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateUser(info) {\n    api.setUserInfo(info.name, info.about).then((newUserInfo) => {\n      setCurrentUser(newUserInfo);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleUpdateAvatar(info) {\n    api.changeAvatar(info.avatar).then((newAvatar) => {\n      setCurrentUser(newAvatar);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleAddPlaceSubmit(card) {\n    api.addNewCard(card.name, card.link).then((newCard) => {\n      setCards([newCard, ...cards]);\n      closeAllPopups();\n    })\n      .catch((err) => {\n        console.log(err);\n      })\n  }\n\n  function handleRegistrationSubmit(password, email) {\n    auth.registerUser(password, email)\n      .then((res) => {\n        if (res) {\n          setRegisterSuccess(true)\n          navigate('/sign-in')\n        } \n      })\n      .catch((err) => {\n        setRegisterSuccess(false)\n        console.log(`Ошибка регистрации ${err}`)\n      })\n      .finally(() => setInfoPopupOpen(true))\n  }\n\n  function handleAuthSubmit(password, email) {\n    auth.authorizeUser(password, email)\n      .then((data) => {\n        if (data.token) {\n          localStorage.setItem('token', data.token);\n          setLoggedIn(true);\n          navigate('/', { replace: true });\n        }\n      })\n      .catch((err) => {\n        setInfoPopupOpen(true)\n        console.log(`Ошибка авторизации ${err}`)\n      })\n  }\n\n  function handleSignOut() {\n    localStorage.removeItem('token');\n    setLoggedIn(false);\n    navigate('/sign-in', { replace: true });\n  }\n\n  const handleTokenCheck = () => {\n    if (localStorage.getItem('token')) {\n      const token = localStorage.getItem('token');\n      auth.checkToken(token)\n        .then((res) => {\n          if (res && res.data) {\n            setUserEmail(res.data.email);\n            setLoggedIn(true);\n            navigate('/', { replace: true });\n          }\n        })\n        .catch((err) => {console.log(`Ошибка токена ${err}`)})\n    }\n  }\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n        <div className=\"page\">\n          <Header loggedIn={loggedIn} userEmail={userEmail} signOut={handleSignOut} />\n          <Routes>\n            <Route path=\"*\" element={loggedIn ? <Navigate to=\"/\" /> : <Navigate to=\"/sign-in\" />} />\n            <Route path=\"/\" element={<ProtectedRoute element={Main} loggedIn={loggedIn} cards={cards} onCardDelete={handleConfirmDelete} onCardLike={handleCardLike} onCardDislike={handleCardDislike} onImage={handleImageClick} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} />} />\n            <Route path=\"/sign-in\" element={<Login onAuthSubmit={handleAuthSubmit} />} />\n            <Route path=\"/sign-up\" element={<Register onRegisterUser={handleRegistrationSubmit} />} />\n          </Routes>\n          <Footer />\n          <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n          <AddPlacePopup onAddPlace={handleAddPlaceSubmit} isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} />\n          <ConfirmDeletePopup cardId={cardId} onCardDelete={handleCardDelete} isOpen={isConfirmPopupOpen} onClose={closeAllPopups} />\n          <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} />\n          <ImagePopup card={selectedCard} onClose={closeAllPopups} isOpen={isImagePopupOpen} />\n          <InfoTooltip onClose={closeAllPopups} isOpen={isInfoPopupOpen} isRegisterSuccess={isRegisterSuccess} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","/Users/oksanazagorodneva/react-mesto-full/frontend/src/contexts/CurrentUserContext.js",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Header.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Main.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Login.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Footer.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Register.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/EditProfilePopup.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/AddPlacePopup.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/EditAvatarPopup.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/ProtectedRoute.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/ConfirmDeletePopup.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/ImagePopup.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/InfoTooltip.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/AuthForm.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Card.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/PopupWithForm.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/components/Popup.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/utils/useFormValidation.jsx",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/utils/auth.js",[],[],"/Users/oksanazagorodneva/react-mesto-full/frontend/src/utils/Api.js",[],[],{"ruleId":"119","severity":1,"message":"120","line":59,"column":6,"nodeType":"121","endLine":59,"endColumn":16,"suggestions":"122"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'handleTokenCheck'. Either include it or remove the dependency array.","ArrayExpression",["123"],{"desc":"124","fix":"125"},"Update the dependencies array to be: [handleTokenCheck, loggedIn]",{"range":"126","text":"127"},[1964,1974],"[handleTokenCheck, loggedIn]"]